# Components Documentation

This document provides detailed information about each component in the **BaZiEngine_v0_2** project, including responsibilities, public functions, inputs, outputs, and error handling.

## `bazi_engine` Package
| Component | Description | Key Functions | Input / Output | Errors |
|-----------|-------------|---------------|----------------|--------|
| `constants.py` | Stores static data such as zodiac signs, elements, heavenly stems, earthly branches, and mapping tables. | N/A (data only) | N/A | N/A |
| `western.py` | Implements Western astrology calculations: planetary positions, house systems, aspects. | `calculate_western(julian_day, location)` | Input: `julian_day` (float), `location` (dict with lat/lon). Output: dict of planetary positions. | Raises `ValueError` for invalid inputs.
| `interpretation.py` | Generates human‑readable interpretations from raw astrological data. | `interpret_bazi(pillars)`, `interpret_western(data)` | Input: computed pillars or western data. Output: formatted strings / JSON. | Raises `CalculationError` if data missing.
| `__init__.py` | Public API exposing high‑level functions. | `calculate_bazi(birthdate, birthtime, location)`, `calculate_full_chart(...)` | Input: birth details. Output: dict with BaZi pillars, Western positions, interpretations. | Propagates errors from sub‑modules.
| `exceptions.py` *(if exists)* | Custom exception definitions. | `CalculationError` class. | N/A | N/A |

## Tests (`tests/`)
- Contains unit tests for each public function.
- Uses `pytest` fixtures and parametrized cases.
- Expected to be run with `pytest -q`.

## Build / Deployment
- `Dockerfile` builds a container exposing a simple HTTP API (not included in repo).
- `pyproject.toml` defines dependencies: `numpy`, `pytz`, `skyfield` etc.

---
*Generated by Antigravity AI assistant.*
